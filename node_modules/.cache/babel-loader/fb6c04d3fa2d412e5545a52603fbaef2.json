{"ast":null,"code":"// export const API_URL = 'http://20.24.41.57:5000';\nexport const API_URL = 'http://jfc-sentinel-dev.herokuapp.com';\nexport const endpoints = async params => ({\n  register: {\n    url: '/api/registration',\n    queryParams: [],\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  },\n  authentication_login: {\n    url: '/api/inbound_sms/',\n    queryParams: [],\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }\n});\nexport const apiModule = async (my_module, requestParams, formData, queryStrings, special) => {\n  let url = endpoints(requestParams)[my_module].url;\n  let headers = endpoints(requestParams)[my_module].headers;\n  let method = endpoints(requestParams)[my_module].method;\n  let server_url = myConfig.SERVER_URL;\n\n  if (endpoints(requestParams)[my_module].server_url !== null && endpoints(requestParams)[my_module].server_url !== undefined) {\n    server_url = endpoints(requestParams)[my_module].server_url;\n  }\n\n  writeData('actions', {\n    last_action: Date.now(),\n    id: 1\n  });\n\n  if (queryStrings === null || queryStrings === undefined) {\n    queryStrings = \"\";\n  } //Use axios whenver we want to use application/json as the body header. Otherwise we will use x-www-form-urlencoded\n\n\n  if (special) {\n    return new Promise(function (resolve, reject) {\n      let myUrl = server_url + url + queryStrings;\n      axios({\n        method: method,\n        url: myUrl,\n        data: formData,\n        headers: headers\n      }).then(function (data) {\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        resolve(data);\n      }).catch(function (err) {\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        reject(err);\n      });\n    });\n  } else if (headers[\"Content-Type\"] != undefined && headers[\"Content-Type\"] == \"application/json\") {\n    /*HANDLING JSON CONTENT TYPE*/\n    return new Promise(function (resolve, reject) {\n      fetch(server_url + url + queryStrings, {\n        method: method,\n        headers: headers,\n        body: formData\n      }).then(function (response) {\n        return response.json();\n      }).then(async function (data) {\n        await isSessionExpired(data);\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        resolve(data);\n      }).catch(function (err) {\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        reject(err);\n      });\n    });\n  } else if (headers[\"Content-Type\"] != undefined && headers[\"Content-Type\"] == \"multipart/form-data\") {\n    return new Promise(function (resolve, reject) {\n      let myUrl = server_url + url;\n      axios({\n        method: method,\n        url: myUrl,\n        data: formData,\n        headers: headers\n      }).then(function (data) {\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        resolve(data);\n      }).catch(function (err) {\n        writeData('actions', {\n          last_action: Date.now(),\n          id: 1\n        });\n        reject(err);\n      });\n    });\n  } else {\n    /*HANDLING FORM URL ENCODED CONTENT TYPE AND GET REQUESTS*/\n    let data = jsonToURI(formData);\n    return new Promise(function (resolve, reject) {\n      if (data === null || data === '') {\n        console.log(server_url + url + queryStrings);\n        fetch(server_url + url + queryStrings, {\n          method: method,\n          headers: headers\n        }).then(function (response) {\n          return response.json();\n        }).then(async function (data) {\n          await isSessionExpired(data);\n          writeData('actions', {\n            last_action: Date.now(),\n            id: 1\n          });\n          resolve(data);\n        }).catch(function (err) {\n          writeData('actions', {\n            last_action: Date.now(),\n            id: 1\n          });\n          reject(err);\n        });\n      } else {\n        console.log(server_url + url + queryStrings);\n        fetch(server_url + url + queryStrings, {\n          method: method,\n          headers: headers,\n          body: data\n        }).then(function (response) {\n          return response.json();\n        }).then(async function (data) {\n          await isSessionExpired(data);\n          writeData('actions', {\n            last_action: Date.now(),\n            id: 1\n          });\n          resolve(data);\n        }).catch(function (err) {\n          writeData('actions', {\n            last_action: Date.now(),\n            id: 1\n          });\n          reject(err);\n        });\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/larainefajardo/Desktop/web_app/_progressive_web_app/react/companion/src/api/endpoints.js"],"names":["API_URL","endpoints","params","register","url","queryParams","method","headers","authentication_login","apiModule","my_module","requestParams","formData","queryStrings","special","server_url","myConfig","SERVER_URL","undefined","writeData","last_action","Date","now","id","Promise","resolve","reject","myUrl","axios","data","then","catch","err","fetch","body","response","json","isSessionExpired","jsonToURI","console","log"],"mappings":"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","sourcesContent":["// export const API_URL = 'http://20.24.41.57:5000';\nexport const API_URL = 'http://jfc-sentinel-dev.herokuapp.com';\n\nexport const endpoints = async (params) => ({\n    register: {\n        url: '/api/registration',\n        queryParams: [],\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n    },\n    authentication_login: {\n        url: '/api/inbound_sms/',\n        queryParams: [],\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n    },\n});\n\n\nexport const apiModule = async (my_module, requestParams, formData, queryStrings, special) => {\n    let url = endpoints(requestParams)[my_module].url;\n\n    let headers = endpoints(requestParams)[my_module].headers;\n    let method = endpoints(requestParams)[my_module].method;\n    let server_url = myConfig.SERVER_URL;\n    if (endpoints(requestParams)[my_module].server_url !== null &&\n        endpoints(requestParams)[my_module].server_url !== undefined) {\n        server_url = endpoints(requestParams)[my_module].server_url;\n    }\n\n    writeData('actions', { last_action: Date.now(), id: 1 });\n\n    if (queryStrings === null || queryStrings === undefined) {\n        queryStrings = \"\";\n\n    }\n\n    //Use axios whenver we want to use application/json as the body header. Otherwise we will use x-www-form-urlencoded\n    if (special) {\n\n        return new Promise(function (resolve, reject) {\n            let myUrl = server_url + url + queryStrings;\n            axios(\n                {\n                    method: method,\n                    url: myUrl,\n                    data: formData,\n                    headers: headers\n                })\n                .then(function (data) {\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    resolve(data);\n                })\n                .catch(function (err) {\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    reject(err);\n                });\n        });\n\n    } else if (headers[\"Content-Type\"] != undefined && headers[\"Content-Type\"] == \"application/json\") {\n        /*HANDLING JSON CONTENT TYPE*/\n        return new Promise(function (resolve, reject) {\n\n            fetch(server_url + url + queryStrings, {\n                method: method,\n                headers: headers,\n                body: formData\n            })\n                .then(function (response) {\n                    return response.json();\n                })\n                .then(async function (data) {\n                    await isSessionExpired(data);\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    resolve(data);\n                })\n                .catch(function (err) {\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    reject(err);\n                });\n        });\n    }\n\n    else if (headers[\"Content-Type\"] != undefined && headers[\"Content-Type\"] == \"multipart/form-data\") {\n        return new Promise(function (resolve, reject) {\n            let myUrl = server_url + url;\n            axios(\n                {\n                    method: method,\n                    url: myUrl,\n                    data: formData,\n                    headers: headers\n                })\n                .then(function (data) {\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    resolve(data);\n                })\n                .catch(function (err) {\n                    writeData('actions', { last_action: Date.now(), id: 1 });\n                    reject(err);\n                });\n        });\n    }\n\n    else {\n        /*HANDLING FORM URL ENCODED CONTENT TYPE AND GET REQUESTS*/\n        let data = jsonToURI(formData);\n        return new Promise(function (resolve, reject) {\n            if (data === null || data === '') {\n                console.log(server_url + url + queryStrings);\n                fetch(server_url + url + queryStrings, {\n                    method: method,\n                    headers: headers\n                })\n                    .then(function (response) {\n                        return response.json();\n                    })\n                    .then(async function (data) {\n                        await isSessionExpired(data);\n                        writeData('actions', { last_action: Date.now(), id: 1 });\n                        resolve(data);\n                    })\n                    .catch(function (err) {\n                        writeData('actions', { last_action: Date.now(), id: 1 });\n                        reject(err);\n                    });\n            } else {\n                console.log(server_url + url + queryStrings);\n                fetch(server_url + url + queryStrings, {\n                    method: method,\n                    headers: headers,\n                    body: data\n                })\n                    .then(function (response) {\n                        return response.json();\n                    })\n                    .then(async function (data) {\n                        await isSessionExpired(data);\n                        writeData('actions', { last_action: Date.now(), id: 1 });\n                        resolve(data);\n                    })\n                    .catch(function (err) {\n                        writeData('actions', { last_action: Date.now(), id: 1 });\n                        reject(err);\n                    });\n\n            }\n        });\n    }\n\n}"]},"metadata":{},"sourceType":"module"}